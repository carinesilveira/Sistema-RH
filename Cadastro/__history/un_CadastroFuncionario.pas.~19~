unit un_CadastroFuncionario;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.ExtCtrls, Vcl.ComCtrls,
  Vcl.StdCtrls, Vcl.DBCtrls, Vcl.Mask, FireDAC.Stan.Intf, FireDAC.Stan.Option,
  FireDAC.Stan.Error, FireDAC.UI.Intf, FireDAC.Phys.Intf, FireDAC.Stan.Def,
  FireDAC.Stan.Pool, FireDAC.Stan.Async, FireDAC.Phys, FireDAC.Phys.MSSQL,
  FireDAC.Phys.MSSQLDef, FireDAC.VCLUI.Wait, Data.DB, FireDAC.Comp.Client,
  FireDAC.Stan.Param, FireDAC.DatS, FireDAC.DApt.Intf, FireDAC.DApt,
  FireDAC.Comp.DataSet;

type
  TFrmCadastroAutor = class(TForm)
    pnlFundo: TPanel;
    pnlCadastro: TPanel;
    lblNome: TLabel;
    lblEndereco: TLabel;
    edtEndereco: TDBEdit;
    edtNome: TDBEdit;
    pnlAdmissao: TPanel;
    lblAdmissao: TLabel;
    admissao: TDateTimePicker;
    lblCargo: TLabel;
    cbCargo: TDBComboBox;
    lblSalario: TLabel;
    edtSalario: TDBEdit;
    btnCancelar: TButton;
    btnSalvar: TButton;
    Conexao: TFDConnection;
    q_Cadastro: TFDQuery;
    ds_Cadastro: TDataSource;
    q_CadastroID_FUNC: TFDAutoIncField;
    q_CadastroNOME: TStringField;
    q_CadastroENDERECO: TStringField;
    q_CadastroADMISSAO: TSQLTimeStampField;
    q_CadastroSALARIO: TBCDField;
    q_CadastroCARGO: TStringField;
    procedure btnSalvarClick(Sender: TObject);
    procedure btnCancelarClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  FrmCadastroFuncionario: TFrmCadastroFuncionario;

implementation

{$R *.dfm}

procedure TFrmCadastroAutor.btnCancelarClick(Sender: TObject);
begin
  if not (ds_Cadastro.DataSet.State in [dsEdit, dsInsert]) then
    Exit;

  if Application.MessageBox('Deseja realmente sair?',
  'Atenção!', MB_ICONWARNING + MB_YESNO) = mrNo then
   Exit;

  ds_Cadastro.DataSet.Cancel;
  Close;
end;

procedure TFrmCadastroFuncionario.btnSalvarClick(Sender: TObject);

end;

end.
